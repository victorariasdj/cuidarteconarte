---
import Redes from "./Redes.astro";
---

<div class="contenedor">
    <button class="burger" aria-label="Toggle menu">
        <span class="burger-icon">☰</span> <!-- Ícono simple de hamburguesa -->
    </button>
    <div class="logo">
        <a class="nav-img" href="/">
            <img class="nav-img" src="https://ii2t745skrm4raclwo2rjclbaxmzgfg5zh3rp6caz3o3vwfrrv2a.arweave.net/QjU_87JUWciAS7O1FIlhBdmTFN3J9xf4QM7dutixjXQ" alt="Logo cuidArteconArte">
        </a>
    </div>
    
    <div class="navegacion">
        <a href="/">Inicio</a>
        <a href="/conocenos">Conócenos</a>
        <a href="/estetica">Estética</a>
        <a href="/tratamientosTerapeuticos">Tratamientos Terapéuticos</a>
        <a href="/experiencias-de-lujo">Experiencias de Lujo</a>
        <a href="/cursos-y-talleres">Cursos y Talleres</a>
        <a href="/contacto">Contacto</a>
    </div> 

    <Redes />
</div>

<style>
    .contenedor {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .logo {
        margin-top: 12px;
    }

    .nav-img {
        width: 180px;
        object-fit: cover;
    }

    .navegacion {
        display: flex;
        flex: 1 1;
        flex-direction: column;
        justify-content: space-evenly;
        padding: 8px;
    }

    .navegacion a {
        display: flex;
        flex-direction: column;
        justify-content: center;
        text-decoration: none;
        list-style: none;
        color: #4f4f4f;
        height: 40px;
    }

    .navegacion a:hover {
        background-color: #ddb531;
    }

    .burger {
        display: none;
        border: none;
        background: transparent;
        padding: 0;
        cursor: pointer;
        font-size: 24px; /* Tamaño del ícono */
    }

    .burger-icon {
        display: block;
        color: #000;
    }

    @media (max-width: 1270px) {
        .contenedor {
            flex-direction: row;
        }

        .navegacion {
            display: none; /* Oculto por defecto */
            position: fixed;
            top: 60px;
            left: 0;
            width: 100%;
            height: calc(95% - 60px); /* Ocupa el resto de la pantalla */
            background-color: white;
            flex-direction: column;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .navegacion.active {
            display: flex; /* Mostrar menú */
        }

        .logo {
            display: none;
        }

        .burger {
            display: block;
            width: 40px;
            height: 30px;
            margin: 20px;
        }
    }
</style>

<script>
    // Función para inicializar el menú
    function setupMenu() {
        const burger = document.querySelector('.burger');
        const navegacion = document.querySelector('.navegacion');

        if (!burger || !navegacion) return;

        // Función para togglear el menú
        function toggleMenu(event) {
            event.stopPropagation(); // Detiene la propagación al document
            navegacion.classList.toggle('active');
        }

        // Función para cerrar el menú al hacer clic fuera
        function closeMenu(event) {
            if (!navegacion.contains(event.target) && !burger.contains(event.target)) {
                navegacion.classList.remove('active');
            }
        }

        // Limpiar eventos previos
        burger.removeEventListener('click', toggleMenu);
        document.removeEventListener('click', closeMenu);

        // Agregar eventos
        burger.addEventListener('click', toggleMenu);
        document.addEventListener('click', closeMenu);
    }

    // Ejecutar al cargar la página
    document.addEventListener('DOMContentLoaded', setupMenu);
</script>